# 스켈레톤 UI 분석 및 필요성 검토

## 현재 상황

### 1. 실제 API 호출 확인 필요

터미널 로그를 보면:
- `/api/device/preferences`만 호출됨 (342ms)
- `/api/devices` 호출이 보이지 않음
- `/api/moods/carol-segments` 호출이 보이지 않음

**문제 가능성**:
1. `useDevices` 훅의 `useEffect`가 실행되지 않음
2. `useMoodStreamManager` 훅의 `useEffect`가 실행되지 않음
3. `status === "loading"` 상태에서 멈춰있어서 `isAuthenticated`가 `false`로 유지됨

### 2. 스켈레톤 UI가 필요한 이유 (현재 설계)

**이론적으로 스켈레톤 UI가 필요한 경우**:
1. 초기 세그먼트 로드 전까지 (하지만 하드코딩되어 있어서 즉시 로드 가능)
2. 디바이스 정보 로드 전까지 (하지만 초기 세그먼트와 별개)
3. LLM 무드스트림 생성 중 (하지만 초기 세그먼트가 있으면 불필요)

**실제로는**:
- 초기 세그먼트는 하드코딩되어 있어서 즉시 로드 가능 (0ms)
- 디바이스 정보는 DB 쿼리 한 번이면 끝 (10-50ms)
- 두 작업은 완전히 별개이므로 서로를 기다릴 필요 없음

### 3. 스켈레톤 UI가 불필요한 이유

1. **초기 세그먼트**: 하드코딩되어 있어서 즉시 반환 가능
2. **디바이스 정보**: DB 쿼리 한 번이면 끝나고, 초기 세그먼트와 별개
3. **Home 진입 시 이미 로딩 화면**: `status === "loading"`일 때 이미 "Loading..." 표시
4. **디바이스 카드가 없으면 + 카드만 표시**: 디바이스 정보는 로드되는 대로 추가됨

## 결론

**스켈레톤 UI는 사실상 불필요합니다.**

이유:
1. 초기 세그먼트는 즉시 로드 가능 (하드코딩)
2. 디바이스 정보는 빠르게 로드됨 (DB 쿼리 한 번)
3. 두 작업은 별개이므로 서로를 기다릴 필요 없음
4. Home 진입 시 이미 로딩 화면이 있음

**대신**:
- 초기 세그먼트가 있으면 즉시 UI 표시
- 디바이스 정보는 로드되는 대로 카드에 추가
- 디바이스 카드가 없으면 + 카드만 표시

## 확인 필요 사항

1. **`useDevices` 훅이 실제로 호출되는가?**
   - `[useDevices] 🔄 디바이스 정보 로드 시작` 로그 확인
   - `/api/devices` API 호출 확인

2. **`useMoodStreamManager` 훅이 실제로 호출되는가?**
   - `[useMoodStreamManager] useEffect 실행` 로그 확인
   - `[useMoodStreamManager] 🔄 초기 세그먼트 로드 시작` 로그 확인
   - `/api/moods/carol-segments` API 호출 확인

3. **`status === "loading"` 상태에서 멈춰있는가?**
   - `[HomePage] 🔍 인증 상태` 로그 확인
   - `status`가 `"loading"`에서 `"authenticated"`로 변경되는지 확인

